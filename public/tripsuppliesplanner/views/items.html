<div class="container-fluid">
    <div class="title"><h2>{{vm.name}}</h2></div>
    <div class="tile">
        <div class="tileContent">
            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-sm-6"><h4>All Items</h4></div>
                            <div class="col-sm-6 text-right">
                                <button type="button" class="btn btn-default" ng-click="vm.createItem()">
                                    Create Item
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                    </div>
                    <table class="table table-striped table-hover">
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Ages</th>
                            <th>Factors</th>
                            <th>Details</th>
                            <th>Category</th>
                        </tr>
                        <tr ng-repeat="item in vm.itemsList track by item.id">
                            <td>
                                <a class="btn" ng-click="vm.editItem(item)">edit</a>
                                <a class="btn" ng-click="vm.deleteItem(item)">delete</a>
                            </td>
                            <td>{{item.name}}</td>
                            <td>
                                <div ng-repeat="age in item.ages track by age.id" class="row in-between-bordered">
                                    <div class="col-sm-3">{{age.name}}</div>
                                    <div class="col-sm-5">Items: {{age.items_per_age.items}}</div>
                                    <div class="col-sm-3">Days: {{age.items_per_age.days}}</div>
                                </div>
                            </td>
                            <td>
                                <view-factors factors="vm.factors" selected="item.factors" ng-if="!item.always_needed"
                                              settings="vm.factorSettings"></view-factors>
                                <div ng-if="item.always_needed">Applies to Every Factor</div>
                            </td>
                            <td>
                                <ul>
                                    <li ng-if="!item.always_needed">
                                        {{item.required ? "Required To Pack" : "Optional To Pack"}}
                                    </li>
                                    <li ng-if="item.always_needed">Needed on Every Vacation</li>
                                    <li ng-if="item.personal">Only Applies to You</li>
                                </ul>
                            </td>
                            <td>
                                {{item.category.name}}
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>