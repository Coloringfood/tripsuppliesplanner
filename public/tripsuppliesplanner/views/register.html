<h2>Register</h2>
<form name="form" ng-submit="vm.register()" role="form">
    <div class="row">
        <div class="col-sm-6">
            <div class="form-group" ng-class="{ 'has-error': form.firstName.$dirty && form.firstName.$error.required }">
                <label for="firstName">First name</label>
                <input type="text" name="firstName" id="firstName" class="form-control" ng-model="vm.user.firstName" maxlength="15"  focus-me="true" required/>
                <span ng-show="form.firstName.$dirty && form.firstName.$error.required" class="help-block">First name is required</span>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group" ng-class="{ 'has-error': form.lastName.$dirty && form.lastName.$error.required }">
                <label for="lastName">Last name</label>
                <input type="text" name="lastName" id="lastName" class="form-control" ng-model="vm.user.lastName" maxlength="15" required />
                <span ng-show="form.lastName.$dirty && form.lastName.$error.required" class="help-block">Last name is required</span>
            </div>
        </div>
    </div>
    <div class="form-group" ng-class="{ 'has-error': form.email.$dirty && (form.email.$error.required || form.email.$error.email) }">
        <label for="email">Email</label>
        <input type="email" name="email" id="email" class="form-control" ng-model="vm.user.email" maxlength="100" required />
        <span ng-show="form.email.$dirty && form.email.$error.required" class="help-block">Email is required</span>
        <span ng-show="form.email.$dirty && form.email.$error.email" class="help-block">Email must be properly formatted</span>
    </div>
    <div class="form-group" ng-class="{ 'has-error': form.username.$dirty && form.username.$error.required }">
        <label for="username">Username</label>
        <input type="text" name="username" id="username" class="form-control" ng-model="vm.user.username" maxlength="30" required />
        <span ng-show="form.username.$dirty && form.username.$error.required" class="help-block">Username is required</span>
    </div>
    <div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
        <label for="password">Password (Warning, this is not https so the password is not encrypted. DON'T use a password you use for anything else)</label>
        <input type="password" name="password" id="password" class="form-control" ng-model="vm.user.password" required />
        <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>
    </div>
    <div class="form-group" ng-class="{ 'has-error': form.age.$dirty && form.age.$error.required }">
        <label for="age">Age Group</label>
        <select name="age" id="age" ng-model="vm.user.age" class="form-control" required>
            <option ng-repeat="age in vm.ages" value="{{age.name}}">{{age.name}} ({{age.range}})</option>
        </select>
    </div>
    <div class="form-actions">
        <button type="submit" ng-disabled="form.$invalid || vm.dataLoading" class="btn btn-primary">Register</button>
        <a href="#/login" class="btn btn-link">Cancel</a>
    </div>
</form>